<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <data>
        <record id="company_price_form_view" model="ir.ui.view">
            <field name="name">company_price_form_view</field>
            <field name="model">company.price</field>
            <field name="arch" type="xml">
                <form>
                    <header>
                        <button name="action_update" type="object"
                                string="Update" states="confirmed" class="btn-primary"
                                groups="sales_policy.modify_pricelist_group"
                        />

                        <button name="action_confirm" type="object"
                                string="Confirm" class="btn-primary" states="draft"
                                groups="sales_policy.sales_policy_group"
                        />

                        <!--                        <button name="action_high_approve" type="object"-->
                        <!--                                string="HR Manager Approve" states="confirmed" class="btn-primary"-->
                        <!--                                groups="ommat_training_module.training_dept_manager_group"/>-->

                        <!--                        <button name="action_approve" type="object"-->
                        <!--                                string="General Manager Approve" states="high_approve" class="btn-primary"-->
                        <!--                                groups="ommat_training_module.training_general_manager_group"/>-->


                        <field name="state" widget="statusbar"/>

                    </header>
                    <sheet>
                        <group>


                            <group>
                                <field name="customer" attrs="{'readonly':[('state', 'in', ('confirmed','update'))]}"/>
                                <field name="date" invisible="1"/>
                                <field name="date2" />
                            </group>
                            <group>

                                <field name="payment_term"
                                       attrs="{'readonly':[('state', '=', 'confirmed')]}"/>
                                <field name="categories" attrs="{'readonly':[('state', 'in', ('confirmed','update'))]}"/>

                            </group>
                        </group>


                        <notebook>
                            <page string="Price list" name="pricelist">
<!--                                <group>-->
                                    <field name="pricelist_table" widget="one2many_list" force_save="1"
                                           attrs="{'readonly':[('state', '=', 'confirmed')]}">
                                        <tree string="Price List Table" editable="bottom">
                                            <field name="product" force_save="1"/>
                                            <field name="price" force_save="1"/>
                                            <field name="price_percentage" force_save="1"/>
                                            <field name="sign" force_save="1"/>
                                            <field name="total" force_save="1"/>
                                            <field name="customerr" force_save="1"/>
                                        </tree>
                                    </field>
<!--                                </group>-->
                            </page>
                        </notebook>
                    </sheet>

                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="activity_ids" widget="mail_activity"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>


                </form>
            </field>
        </record>


        <record id="company_price_tree_view" model="ir.ui.view">
            <field name="name">company_price_tree_view</field>
            <field name="model">company.price</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="customer"/>
                    <field name="date"/>
                    <field name="payment_term"/>
                    <field name="categories"/>
                </tree>
            </field>
        </record>


        <record id="action_company_price" model="ir.actions.act_window">
            <field name="name">Company Price List</field>
            <field name="res_model">company.price</field>
            <field name="view_mode">tree,form</field>
        </record>


        <!--        <menuitem-->
        <!--                id="menu_training_root"-->
        <!--                name="Training"-->
        <!--                web_icon="ommat_training_module,static/description/logoo.png"-->


        <!--        />-->

        <menuitem id="menu_company_price_menu"
                  name="Company Price List"
                  action="action_company_price"
                  parent="sale.sale_menu_root"
                  sequence="9"
                  groups="sales_policy.sales_policy_group"
        />


    </data>
</odoo>



